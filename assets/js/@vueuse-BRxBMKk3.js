import{p as Z,q as ee,u as te,s as H,n as G,r as L,x as K,y as ne,z as re,A as N,g as Q,B as oe,C as E,D as le}from"./@vue-D377Yz3Q.js";function V(e){return Z()?(ee(e),!0):!1}function A(e){return typeof e=="function"?e():te(e)}const j=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ie=e=>e!=null,ue=Object.prototype.toString,se=e=>ue.call(e)==="[object Object]",T=()=>{},ae=ce();function ce(){var e,n;return j&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function de(e,n){function t(...o){return new Promise((r,i)=>{Promise.resolve(e(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(r).catch(i)})}return t}const $=e=>e();function fe(e=$){const n=L(!0);function t(){n.value=!1}function o(){n.value=!0}const r=(...i)=>{n.value&&e(...i)};return{isActive:K(n),pause:t,resume:o,eventFilter:r}}function ve(e){return Q()}function me(...e){if(e.length!==1)return ne(...e);const n=e[0];return typeof n=="function"?K(re(()=>({get:n,set:T}))):L(n)}function pe(e,n,t={}){const{eventFilter:o=$,...r}=t;return N(e,de(o,n),r)}function we(e,n,t={}){const{eventFilter:o,...r}=t,{eventFilter:i,pause:d,resume:c,isActive:m}=fe(o);return{stop:pe(e,n,{...r,eventFilter:i}),pause:d,resume:c,isActive:m}}function U(e,n=!0,t){ve()?H(e,t):n?e():G(e)}function F(e){var n;const t=A(e);return(n=t==null?void 0:t.$el)!=null?n:t}const C=j?window:void 0,he=j?window.document:void 0;function _(...e){let n,t,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,o,r]=e,n=C):[n,t,o,r]=e,!n)return T;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const i=[],d=()=>{i.forEach(v=>v()),i.length=0},c=(v,p,l,s)=>(v.addEventListener(p,l,s),()=>v.removeEventListener(p,l,s)),m=N(()=>[F(n),A(r)],([v,p])=>{if(d(),!v)return;const l=se(p)?{...p}:p;i.push(...t.flatMap(s=>o.map(w=>c(v,s,w,l))))},{immediate:!0,flush:"post"}),f=()=>{m(),d()};return V(f),f}let I=!1;function Me(e,n,t={}){const{window:o=C,ignore:r=[],capture:i=!0,detectIframe:d=!1}=t;if(!o)return T;ae&&!I&&(I=!0,Array.from(o.document.body.children).forEach(l=>l.addEventListener("click",T)),o.document.documentElement.addEventListener("click",T));let c=!0;const m=l=>r.some(s=>{if(typeof s=="string")return Array.from(o.document.querySelectorAll(s)).some(w=>w===l.target||l.composedPath().includes(w));{const w=F(s);return w&&(l.target===w||l.composedPath().includes(w))}}),v=[_(o,"click",l=>{const s=F(e);if(!(!s||s===l.target||l.composedPath().includes(s))){if(l.detail===0&&(c=!m(l)),!c){c=!0;return}n(l)}},{passive:!0,capture:i}),_(o,"pointerdown",l=>{const s=F(e);c=!m(l)&&!!(s&&!l.composedPath().includes(s))},{passive:!0}),d&&_(o,"blur",l=>{setTimeout(()=>{var s;const w=F(e);((s=o.document.activeElement)==null?void 0:s.tagName)==="IFRAME"&&!(w!=null&&w.contains(o.document.activeElement))&&n(l)},0)})].filter(Boolean);return()=>v.forEach(l=>l())}function ge(){const e=L(!1),n=Q();return n&&H(()=>{e.value=!0},n),e}function q(e){const n=ge();return E(()=>(n.value,!!e()))}function ye(e,n,t={}){const{window:o=C,...r}=t;let i;const d=q(()=>o&&"MutationObserver"in o),c=()=>{i&&(i.disconnect(),i=void 0)},m=E(()=>{const l=A(e),s=(Array.isArray(l)?l:[l]).map(F).filter(ie);return new Set(s)}),f=N(()=>m.value,l=>{c(),d.value&&l.size&&(i=new MutationObserver(n),l.forEach(s=>i.observe(s,r)))},{immediate:!0,flush:"post"}),v=()=>i==null?void 0:i.takeRecords(),p=()=>{c(),f()};return V(p),{isSupported:d,stop:p,takeRecords:v}}function Se(e,n={}){const{window:t=C}=n,o=q(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let r;const i=L(!1),d=f=>{i.value=f.matches},c=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",d):r.removeListener(d))},m=le(()=>{o.value&&(c(),r=t.matchMedia(A(e)),"addEventListener"in r?r.addEventListener("change",d):r.addListener(d),i.value=r.matches)});return V(()=>{m(),c(),r=void 0}),i}const D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W="__vueuse_ssr_handlers__",be=Ee();function Ee(){return W in D||(D[W]=D[W]||{}),D[W]}function X(e,n){return be[e]||n}function Fe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ae={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},J="vueuse-storage";function Y(e,n,t,o={}){var r;const{flush:i="pre",deep:d=!0,listenToStorageChanges:c=!0,writeDefaults:m=!0,mergeDefaults:f=!1,shallow:v,window:p=C,eventFilter:l,onError:s=a=>{console.error(a)},initOnMounted:w}=o,y=(v?oe:L)(typeof n=="function"?n():n);if(!t)try{t=X("getDefaultStorage",()=>{var a;return(a=C)==null?void 0:a.localStorage})()}catch(a){s(a)}if(!t)return y;const S=A(n),u=Fe(S),k=(r=o.serializer)!=null?r:Ae[u],{pause:z,resume:h}=we(y,()=>P(y.value),{flush:i,deep:d,eventFilter:l});p&&c&&U(()=>{_(p,"storage",b),_(p,J,x),w&&b()}),w||b();function M(a,g){p&&p.dispatchEvent(new CustomEvent(J,{detail:{key:e,oldValue:a,newValue:g,storageArea:t}}))}function P(a){try{const g=t.getItem(e);if(a==null)M(g,null),t.removeItem(e);else{const O=k.write(a);g!==O&&(t.setItem(e,O),M(g,O))}}catch(g){s(g)}}function R(a){const g=a?a.newValue:t.getItem(e);if(g==null)return m&&S!=null&&t.setItem(e,k.write(S)),S;if(!a&&f){const O=k.read(g);return typeof f=="function"?f(O,S):u==="object"&&!Array.isArray(O)?{...S,...O}:O}else return typeof g!="string"?g:k.read(g)}function b(a){if(!(a&&a.storageArea!==t)){if(a&&a.key==null){y.value=S;return}if(!(a&&a.key!==e)){z();try{(a==null?void 0:a.newValue)!==k.write(y.value)&&(y.value=R(a))}catch(g){s(g)}finally{a?G(h):h()}}}}function x(a){b(a.detail)}return y}function Ce(e){return Se("(prefers-color-scheme: dark)",e)}function Oe(e={}){const{selector:n="html",attribute:t="class",initialValue:o="auto",window:r=C,storage:i,storageKey:d="vueuse-color-scheme",listenToStorageChanges:c=!0,storageRef:m,emitAuto:f,disableTransition:v=!0}=e,p={auto:"",light:"light",dark:"dark",...e.modes||{}},l=Ce({window:r}),s=E(()=>l.value?"dark":"light"),w=m||(d==null?me(o):Y(d,o,i,{window:r,listenToStorageChanges:c})),y=E(()=>w.value==="auto"?s.value:w.value),S=X("updateHTMLAttrs",(h,M,P)=>{const R=typeof h=="string"?r==null?void 0:r.document.querySelector(h):F(h);if(!R)return;let b;if(v&&(b=r.document.createElement("style"),b.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(b)),M==="class"){const x=P.split(/\s/g);Object.values(p).flatMap(a=>(a||"").split(/\s/g)).filter(Boolean).forEach(a=>{x.includes(a)?R.classList.add(a):R.classList.remove(a)})}else R.setAttribute(M,P);v&&(r.getComputedStyle(b).opacity,document.head.removeChild(b))});function u(h){var M;S(n,t,(M=p[h])!=null?M:h)}function k(h){e.onChanged?e.onChanged(h,u):u(h)}N(y,k,{flush:"post",immediate:!0}),U(()=>k(y.value));const z=E({get(){return f?w.value:y.value},set(h){w.value=h}});try{return Object.assign(z,{store:w,system:s,state:y})}catch{return z}}function _e(e,n,t={}){const{window:o=C,initialValue:r="",observe:i=!1}=t,d=L(r),c=E(()=>{var f;return F(n)||((f=o==null?void 0:o.document)==null?void 0:f.documentElement)});function m(){var f;const v=A(e),p=A(c);if(p&&o){const l=(f=o.getComputedStyle(p).getPropertyValue(v))==null?void 0:f.trim();d.value=l||r}}return i&&ye(c,m,{attributeFilter:["style","class"],window:o}),N([c,()=>A(e)],m,{immediate:!0}),N(d,f=>{var v;(v=c.value)!=null&&v.style&&c.value.style.setProperty(A(e),f)}),d}const B=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function Le(e,n={}){const{document:t=he,autoExit:o=!1}=n,r=E(()=>{var u;return(u=F(e))!=null?u:t==null?void 0:t.querySelector("html")}),i=L(!1),d=E(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(u=>t&&u in t||r.value&&u in r.value)),c=E(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(u=>t&&u in t||r.value&&u in r.value)),m=E(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(u=>t&&u in t||r.value&&u in r.value)),f=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(u=>t&&u in t),v=q(()=>r.value&&t&&d.value!==void 0&&c.value!==void 0&&m.value!==void 0),p=()=>f?(t==null?void 0:t[f])===r.value:!1,l=()=>{if(m.value){if(t&&t[m.value]!=null)return t[m.value];{const u=r.value;if((u==null?void 0:u[m.value])!=null)return!!u[m.value]}}return!1};async function s(){if(!(!v.value||!i.value)){if(c.value)if((t==null?void 0:t[c.value])!=null)await t[c.value]();else{const u=r.value;(u==null?void 0:u[c.value])!=null&&await u[c.value]()}i.value=!1}}async function w(){if(!v.value||i.value)return;l()&&await s();const u=r.value;d.value&&(u==null?void 0:u[d.value])!=null&&(await u[d.value](),i.value=!0)}async function y(){await(i.value?s():w())}const S=()=>{const u=l();(!u||u&&p())&&(i.value=u)};return _(t,B,S,!1),_(()=>F(r),B,S,!1),o&&V(s),{isSupported:v,isFullscreen:i,enter:w,exit:s,toggle:y}}function Re(e,n,t={}){const{window:o=C}=t;return Y(e,n,o==null?void 0:o.localStorage,t)}export{Oe as a,_e as b,Re as c,Le as d,_ as e,Me as o,Y as u};

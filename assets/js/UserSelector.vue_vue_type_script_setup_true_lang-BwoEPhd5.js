import{s as v}from"./pinia-B1Iyq0wd.js";import{c as S,u as g,l as h,q as w}from"./index-CKno-NA2.js";import{x,y}from"./ant-design-vue-BWs4Yhsa.js";import{d as k,r as C,A as U,o as A,a7 as B,a8 as n,c as r,W as u,u as I,X as N}from"./@vue-D377Yz3Q.js";const O=k({__name:"UserSelector",emits:["change"],setup(R,{emit:c}){const l=c,i=S(),m=g(),{userInfo:a,token:p}=v(i),_=async o=>{const t=await h({username:o==="superAdmin"?"utility":o,password:"123456"});p.value=t.data.token;const s=await w();a.value=s.data,m.getMenus(),l("change")},e=C("");return U(a,()=>{e.value=a.value.roles[0]||""},{immediate:!0}),(o,t)=>{const s=x,d=y;return A(),B(d,{value:I(e),"onUpdate:value":t[0]||(t[0]=f=>N(e)?e.value=f:null),style:{width:"200px"},onChange:_},{default:n(()=>[r(s,{value:"superAdmin"},{default:n(()=>[u("超级管理员")]),_:1}),r(s,{value:"user"},{default:n(()=>[u("普通用户")]),_:1})]),_:1},8,["value"])}}});export{O as _};

import{c as Q,l as X,a as ee,d as M,S as oe,b as te,T as P,_ as ne}from"./index-BUeeKSKh.js";import{s as O}from"./pinia-B1Iyq0wd.js";import{u as U}from"./vue-i18n-DLwGe23y.js";import{c as se}from"./@vueuse-BRxBMKk3.js";import{d as le}from"./vue-router-CZk6BKTr.js";import{K as D,I as E,N as F,O as J,u as ae,v as j,P as re,o as ie,D as de,g as ce,M as ue}from"./ant-design-vue-BWs4Yhsa.js";import{d as H,r as z,a as G,o as C,a7 as x,a8 as t,u as e,c as o,j as _,W as d,t as c,J as me,b as T,e as N,aa as pe,l as V,F as _e,k as q,ae as fe,af as ge}from"./@vue-D377Yz3Q.js";import{_ as ve}from"./@ant-design-68FpZE7s.js";/* empty css                */import"./lodash-BA5lSfMf.js";import"./@amap-Cfb1MzxV.js";import"./dayjs-CnD8zroB.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./axios-DsPaXkF5.js";import"./nprogress-Dri_fBp5.js";import"./mockjs-Bm9OmztK.js";import"./@babel-BiFW4_mA.js";import"./lodash-es-BtLQVgmQ.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./@ctrl-DOFZgDuz.js";import"./throttle-debounce-CUWDS_la.js";import"./vue-types-C5fUfLeo.js";import"./dom-align-CRCehRfe.js";import"./async-validator-DKvM95Vc.js";import"./scroll-into-view-if-needed-SxpMpKWN.js";import"./compute-scroll-into-view-1gs_hJI2.js";import"./@emotion-BtrR-yrm.js";import"./stylis-DsJDcYJc.js";import"./@intlify-DCihH9S3.js";import"./vue-demi-Dq6ymT-8.js";const ye={class:"w-full flex justify-between items-center"},he=H({__name:"PswMode",emits:["reset-password"],setup(f,{expose:u,emit:m}){const v=m,$=le(),{t:i}=U(),r=Q(),{token:y}=O(r),g=z(!1),s=z(),a=G({username:"utility",password:"123456",remember:!0}),b={username:[{required:!0,message:i("login.vaildMsg.username")}],password:[{required:!0,message:i("login.vaildMsg.psw")}]},p=async l=>{const n=await X(l);y.value=n.data.token,$.push("/")},h=async()=>{g.value=!0;try{const l=await s.value.validate();p(l)}catch(l){console.warn(l)}finally{g.value=!1}};return u({login:p}),(l,n)=>{const w=E,k=F,A=J,B=ae,R=j,L=D;return C(),x(L,{ref_key:"formRef",ref:s,model:e(a),rules:b},{default:t(()=>[o(k,{name:"username"},{default:t(()=>[o(w,{value:e(a).username,"onUpdate:value":n[0]||(n[0]=S=>e(a).username=S),size:"large",placeholder:l.$t("login.placeholder.username")},null,8,["value","placeholder"])]),_:1}),o(k,{name:"password"},{default:t(()=>[o(A,{value:e(a).password,"onUpdate:value":n[1]||(n[1]=S=>e(a).password=S),size:"large",placeholder:l.$t("login.placeholder.psw")},null,8,["value","placeholder"])]),_:1}),o(k,null,{default:t(()=>[_("div",ye,[o(B,{checked:e(a).remember,"onUpdate:checked":n[2]||(n[2]=S=>e(a).remember=S)},{default:t(()=>[d("记住我")]),_:1},8,["checked"]),o(R,{type:"link",onClick:n[3]||(n[3]=S=>v("reset-password"))},{default:t(()=>[d(c(l.$t("login.forgetPsw")),1)]),_:1})])]),_:1}),o(k,null,{default:t(()=>[o(R,{class:"w-full",size:"large",type:"primary",loading:e(g),onClick:h},{default:t(()=>[d(c(l.$t("login.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}}),W=(f=60)=>{const{t:u}=U(),m=z(u("login.getCode")),v=z(!1),$=z(),i=()=>{$.value=setInterval(()=>{f--,f===0?(v.value=!1,m.value=u("login.getCode")):(v.value=!0,m.value=u("login.regain",{second:f}))},1e3)};return me(()=>{clearInterval($.value)}),{wait:f,text:m,disabled:v,getCode:i}},we={class:"flex items-center justify-between gap-4"},ke=H({__name:"AuthCodeMode",setup(f){const{t:u}=U(),{text:m,disabled:v,getCode:$}=W(),i=z(),r=G({phone:"",code:""}),y={phone:[{required:!0,message:u("login.vaildMsg.phone")}],code:[{required:!0,message:u("login.vaildMsg.code")}]},g=async()=>{try{const s=await i.value.validate();console.log(s)}catch(s){console.warn(s)}};return(s,a)=>{const b=E,p=F,h=j,l=D;return C(),x(l,{ref_key:"formRef",ref:i,model:e(r),rules:y},{default:t(()=>[o(p,{name:"phone"},{default:t(()=>[o(b,{value:e(r).phone,"onUpdate:value":a[0]||(a[0]=n=>e(r).phone=n),size:"large",placeholder:s.$t("login.placeholder.phone")},null,8,["value","placeholder"])]),_:1}),o(p,{name:"code"},{default:t(()=>[_("div",we,[o(b,{value:e(r).code,"onUpdate:value":a[1]||(a[1]=n=>e(r).code=n),size:"large",placeholder:s.$t("login.placeholder.code")},null,8,["value","placeholder"]),o(h,{size:"large",disabled:e(v),onClick:e($)},{default:t(()=>[d(c(e(m)),1)]),_:1},8,["disabled","onClick"])])]),_:1}),o(p,null,{default:t(()=>[o(h,{class:"w-full",size:"large",type:"primary",onClick:g},{default:t(()=>[d(c(s.$t("login.login")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}}),Ce={class:"flex items-center justify-between gap-4"},Z=H({__name:"Register",setup(f){const{t:u}=U(),{text:m,disabled:v,getCode:$}=W(),i=z(),r=G({phone:"",code:"",password:"",confirmPsw:""}),y={phone:[{required:!0,message:u("login.vaildMsg.phone")}],code:[{required:!0,message:u("login.vaildMsg.code")}],password:[{required:!0,message:u("login.vaildMsg.psw")}],confirmPsw:[{required:!0,message:u("login.vaildMsg.confirmPsw")}]},g=async()=>{try{const s=await i.value.validate();console.log(s)}catch(s){console.warn(s)}};return(s,a)=>{const b=E,p=F,h=j,l=J,n=D;return C(),x(n,{ref_key:"formRef",ref:i,model:e(r),rules:y},{default:t(()=>[o(p,{name:"phone"},{default:t(()=>[o(b,{value:e(r).phone,"onUpdate:value":a[0]||(a[0]=w=>e(r).phone=w),size:"large",placeholder:s.$t("login.placeholder.phone")},null,8,["value","placeholder"])]),_:1}),o(p,{name:"code"},{default:t(()=>[_("div",Ce,[o(b,{value:e(r).code,"onUpdate:value":a[1]||(a[1]=w=>e(r).code=w),size:"large",placeholder:s.$t("login.placeholder.code")},null,8,["value","placeholder"]),o(h,{size:"large",disabled:e(v),onClick:e($)},{default:t(()=>[d(c(e(m)),1)]),_:1},8,["disabled","onClick"])])]),_:1}),o(p,{name:"password"},{default:t(()=>[o(l,{value:e(r).password,"onUpdate:value":a[2]||(a[2]=w=>e(r).password=w),size:"large",placeholder:s.$t("login.placeholder.psw")},null,8,["value","placeholder"])]),_:1}),o(p,{name:"confirmPsw"},{default:t(()=>[o(l,{value:e(r).confirmPsw,"onUpdate:value":a[3]||(a[3]=w=>e(r).confirmPsw=w),size:"large",placeholder:s.$t("login.placeholder.confirmPsw")},null,8,["value","placeholder"])]),_:1}),o(p,null,{default:t(()=>[o(h,{class:"w-full",size:"large",type:"primary",onClick:g},{default:t(()=>[d(c(s.$t("login.login")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}}),$e=f=>(fe("data-v-aa79c09f"),f=f(),ge(),f),be={class:"login-bg flex items-center justify-center pos-relative"},ze={class:"bg-#fff dark:bg-#18181c w-md rounded-3 p-6"},Se={class:"flex items-center gap-4"},Me={class:"anim-into w-full flex items-center gap-3 mt-5"},xe={class:"anim-into flex items-center justify-center gap-3"},Ie={class:"pos-absolute top-0 right-0 my-4 mx-6 flex items-center gap-4"},Re={key:0,class:"i-ri:sun-foggy-fill color-#fff"},Ue={key:1,class:"i-ri:moon-clear-fill color-amber"},Le=$e(()=>_("div",{class:"i-ri:translate-2 color-#fff"},null,-1)),Pe=[Le],K="text-2xl rounded-2 flex justify-center items-center cursor-pointer",Te=H({__name:"index",setup(f){const u="Utility Admin",{t:m,locale:v}=U(),$=ee(),{config:i,getThemeMode:r}=O($),y=se(oe.SYS_LANG,M.ZH),g=z(),s=z(0),a={0:{title:m("login.mode.psw"),component:he},1:{title:m("login.mode.authCode"),component:ke},2:{title:m("login.mode.register"),component:Z},3:{title:m("login.mode.reset"),component:Z}},b=()=>{i.value.theme=i.value.theme===P.LIGHT?P.DARK:P.LIGHT,i.value.lightSidebar=!0},p=({key:l})=>{y.value=l,v.value=l,location.reload()},h=l=>{switch(l){case 0:g.value.login({username:"utility",password:"123456"});break;case 1:g.value.login({username:"admin",password:"123456"});break;case 2:g.value.login({username:"user",password:"123456"});break}};return(l,n)=>{const w=te,k=j,A=re,B=ie,R=ve,L=ce,S=ue,Y=de;return C(),T("div",be,[_("div",ze,[_("div",Se,[o(w,{name:"logo",size:56}),_("span",{class:"text-3xl",style:N({color:e(i).themeColor})},c(e(u)),5)]),_("div",{class:"text-xl my-5",style:N({color:e(i).themeColor})},c(a[e(s)].title),5),(C(),x(pe(a[e(s)].component),{ref_key:"formComRef",ref:g,class:"anim-into",onResetPassword:n[0]||(n[0]=I=>s.value=3)},null,544)),e(s)!==0?(C(),x(k,{key:0,class:"w-full anim-into",size:"large",onClick:n[1]||(n[1]=I=>s.value=0)},{default:t(()=>[d(c(l.$t("common.back")),1)]),_:1})):V("",!0),e(s)===0?(C(),T(_e,{key:1},[_("div",Me,[o(k,{class:"w-full",size:"large",onClick:n[2]||(n[2]=I=>s.value=1)},{default:t(()=>[d(c(l.$t("login.mode.authCode")),1)]),_:1}),o(k,{class:"w-full",size:"large",onClick:n[3]||(n[3]=I=>s.value=2)},{default:t(()=>[d(c(l.$t("login.mode.register")),1)]),_:1})]),o(A,{class:"anim-into",style:{"margin-top":"20px"},plain:""},{default:t(()=>[d(c(l.$t("login.fastLogin")),1)]),_:1}),_("div",xe,[o(k,{type:"primary",onClick:n[4]||(n[4]=I=>h(0))},{default:t(()=>[d(c(l.$t("login.fastMode.superAdmin")),1)]),_:1}),o(k,{type:"primary",onClick:n[5]||(n[5]=I=>h(1))},{default:t(()=>[d(c(l.$t("login.fastMode.admin")),1)]),_:1}),o(k,{type:"primary",onClick:n[6]||(n[6]=I=>h(2))},{default:t(()=>[d(c(l.$t("login.fastMode.user")),1)]),_:1})])],64)):V("",!0)]),_("div",Ie,[o(B,null,{title:t(()=>[d(c(l.$t("common.config.theme.desc")),1)]),default:t(()=>[_("div",{class:q(K),onClick:b},[e(r)===e(P).LIGHT?(C(),T("div",Re)):(C(),T("div",Ue))])]),_:1}),o(Y,{trigger:["click"]},{overlay:t(()=>[o(S,{onClick:p},{default:t(()=>[(C(),x(L,{key:e(M).ZH,style:N({color:e(y)===e(M).ZH?e(i).themeColor:""})},{icon:t(()=>[o(R,{class:q([e(y)!==e(M).ZH&&"opacity-0"])},null,8,["class"])]),default:t(()=>[d(" 简体中文 ")]),_:1},8,["style"])),(C(),x(L,{key:e(M).EN,style:N({color:e(y)===e(M).EN?e(i).themeColor:""})},{icon:t(()=>[o(R,{class:q([e(y)!==e(M).EN&&"opacity-0"])},null,8,["class"])]),default:t(()=>[d(" English ")]),_:1},8,["style"]))]),_:1})]),default:t(()=>[_("div",{class:q(K)},Pe)]),_:1})])])}}}),mo=ne(Te,[["__scopeId","data-v-aa79c09f"]]);export{mo as default};

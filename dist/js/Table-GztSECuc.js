import{n as A,f as J,t as q,v as w,R as F,E as H,o as p,p as m,q as d,a9 as r,a6 as C,O as n,K as o,bn as L,Y as k,k as s,r as M,bg as W,ay as X,c8 as Y,am as i,Z as x,J as Z,a7 as G,c9 as Q,X as ee,bo as te,bp as oe,a5 as ne,l as se,aI as ae,ca as le,al as ce,ag as re,aC as ie,aS as de,aU as ue,a_ as pe,_ as _e,aJ as me,aK as fe}from"./.pnpm-DTVa1Nkx.js";import{_ as he}from"./index-Zm_EhUmy.js";const ge=[{title:"紧凑",key:"small"},{title:"中等",key:"middle"},{title:"宽松",key:"large"}],ke={title:{type:String,default:""},size:{type:String,default:"middle"},columns:{type:Array,default:()=>[]}},be=u=>(me("data-v-3735cbdf"),u=u(),fe(),u),ye={class:"u-table",bg:"[var(--common-bg-color)]","p-2":"","px-4":"","rounded-1.5":""},ve={class:"u-table-header","mt-1.5":"","mb-3":"",flex:"","items-center":"","justify-between":""},Se={class:"u-table-title","text-16px":""},we={class:"u-table-tools",flex:"","items-center":""},Ce={class:"u-table-tools-icon","text-18px":""},xe={"px-2.5":"","py-2":"","whitespace-nowrap":"",flex:"","items-center":"","justify-between":""},$e=be(()=>d("div",{class:"i-ri:draggable handle","cursor-move":"","text-20px":""},null,-1)),ze=A({name:"Table",__name:"Table",props:ke,emits:["reload"],setup(u,{emit:$}){const f=u,z=$,I=J(()=>Object.keys(ne()).filter(e=>e!=="title")),b=q.useToken().token,_=w(f.size),B=e=>{_.value=e.key},c=F({checked:!0,indeterminate:!1}),l=w([]),y=()=>(c.checked=!0,c.indeterminate=!1,se.cloneDeep(f.columns).map(e=>({...e,isShow:!0}))),P=()=>{l.value.forEach(e=>{e.isShow=!c.checked}),c.indeterminate=!1},T=()=>{const e=l.value.some(a=>!a.isShow);c.checked=!e,c.indeterminate=l.value.every(a=>!a.isShow)?!1:e};return H(()=>f.columns,()=>{l.value=y()},{deep:!0,immediate:!0}),(e,a)=>{const v=W,V=ae,h=X,O=le,U=ce,E=re,R=ie,S=de,j=ue,D=pe,K=_e,N=Y;return p(),m("div",ye,[d("div",ve,[d("div",Se,r(e.title),1),d("div",we,[C(e.$slots,"pre-tools",{},void 0,!0),d("div",Ce,[n(v,{type:"vertical","mx-3":""}),n(h,null,{title:o(()=>[i(r(e.$t("common.refresh")),1)]),default:o(()=>[n(V,{"cursor-pointer":"","mr-3":"",onClick:a[0]||(a[0]=t=>z("reload"))})]),_:1}),n(h,null,{title:o(()=>[i(r(e.$t("components.table.density")),1)]),default:o(()=>[n(R,{trigger:"click",placement:"bottom"},{overlay:o(()=>[n(E,{onClick:B},{default:o(()=>[(p(!0),m(x,null,k(s(ge),t=>(p(),Z(U,{key:t.key,style:G({backgroundColor:s(_)===t.key?s(b).colorPrimaryBg:"",color:s(_)===t.key?s(b).colorPrimary:""})},{default:o(()=>[i(r(t.title),1)]),_:2},1032,["style"]))),128))]),_:1})]),default:o(()=>[n(O,{"cursor-pointer":"","mr-3":""})]),_:1})]),_:1}),n(h,null,{title:o(()=>[i(r(e.$t("common.setting")),1)]),default:o(()=>[n(K,{trigger:"click",placement:"bottom",arrow:!1,overlayInnerStyle:{padding:"0px",minWidth:"160px"}},{content:o(()=>[d("div",xe,[n(S,{checked:s(c).checked,"onUpdate:checked":a[1]||(a[1]=t=>s(c).checked=t),indeterminate:s(c).indeterminate,onClick:P},{default:o(()=>[i(r(e.$t("components.table.columns")),1)]),_:1},8,["checked","indeterminate"]),n(j,{type:"link",onClick:a[2]||(a[2]=t=>l.value=y())},{default:o(()=>[i(r(e.$t("components.table.reset")),1)]),_:1})]),n(v,{style:{margin:"unset"}}),n(s(Q),{modelValue:s(l),"onUpdate:modelValue":a[3]||(a[3]=t=>ee(l)?l.value=t:null),animation:150,handle:".handle","p-2":"",flex:"","flex-col":"","gap-2":""},{default:o(()=>[(p(!0),m(x,null,k(s(l),t=>(p(),m("div",{key:t.dataIndex,"rounded-1.5":"","whitespace-nowrap":"",flex:"","items-center":"","gap-2":""},[$e,n(S,{checked:t.isShow,"onUpdate:checked":g=>t.isShow=g,onChange:T},{default:o(()=>[i(r(t.title),1)]),_:2},1032,["checked","onUpdate:checked"])]))),128))]),_:1},8,["modelValue"])]),default:o(()=>[n(D,{"cursor-pointer":"","mr-3":""})]),_:1})]),_:1})])])]),n(N,M(e.$attrs,{size:s(_),columns:s(l).filter(t=>t.isShow)}),L({_:2},[k(s(I),t=>({name:t,fn:o(g=>[C(e.$slots,t,te(oe(g||{})),void 0,!0)])}))]),1040,["size","columns"])])}}}),Pe=he(ze,[["__scopeId","data-v-3735cbdf"]]);export{Pe as _};

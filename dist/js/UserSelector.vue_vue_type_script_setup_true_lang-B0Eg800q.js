import{n as v,x as S,v as g,E as h,o as w,J as x,K as n,O as r,am as u,k,X as y,aW as C,aX as U}from"./.pnpm-DTVa1Nkx.js";import{c as A,u as B,l as I,q as N}from"./index-B38KeQ4T.js";const V=v({__name:"UserSelector",emits:["change"],setup(O,{emit:c}){const l=c,i=A(),m=B(),{userInfo:a,token:p}=S(i),_=async o=>{const t=await I({username:o==="superAdmin"?"utility":o,password:"123456"});p.value=t.data.token;const s=await N();a.value=s.data,m.getMenus(),l("change")},e=g("");return h(a,()=>{e.value=a.value.roles[0]||""},{immediate:!0}),(o,t)=>{const s=C,d=U;return w(),x(d,{value:k(e),"onUpdate:value":t[0]||(t[0]=f=>y(e)?e.value=f:null),style:{width:"200px"},onChange:_},{default:n(()=>[r(s,{value:"superAdmin"},{default:n(()=>[u("超级管理员")]),_:1}),r(s,{value:"user"},{default:n(()=>[u("普通用户")]),_:1})]),_:1},8,["value"])}}});export{V as _};
